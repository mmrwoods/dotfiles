set antialias                     " MacVim: smooth fonts.
set encoding=utf-8                " Use UTF-8 everywhere.
set guioptions-=T                 " Hide toolbar.
set background=light              " Background.
colorscheme eclipse               " Familiar, and easily distinguishable from terminal windows

set guicursor=n:blinkon0          " Stop the blinking cursor from blinking and distracting me in normal mode

if has("mac")
  " MacVim disables cocoa key bindings, but I want double S / section sign
  " mapped to hash. For some reason map doesn't work, so...
  imap ยง #
  cmap ยง #
  nmap ยง #
  vmap ยง #

  " spacehi plugin doesn't highlight tabs consistently in MacVim. Looks
  " like there's some clash between the syntax matches created by MacVim
  " and spacehi. Simple solution, use match functions instead.
  function SpaceHi()
    execute("highlight spacehiTab " . g:spacehi_tabcolor)
    let b:spaceHiMatchTabs = matchadd('spaceHiTab', '\t')
    execute("highlight spacehiTrailingSpace " . g:spacehi_spacecolor)
    let b:spaceHiMatchTrailingSpace = matchadd('spaceHiTrailingSpace', '\s\+$')
    let b:spacehi = 1
  endfunction

  function NoSpaceHi()
    if exists('b:spaceHiMatchTabs')
      call matchdelete(b:spaceHiMatchTabs)
    endif
    if exists('b:spaceHiMatchTrailingSpace')
      call matchdelete(b:spaceHiMatchTrailingSpace)
    endif
    let b:spacehi = 0
  endfunction

  function ToggleSpaceHi()
    if exists("b:spacehi") && b:spacehi
      call NoSpaceHi()
      echo "spacehi off"
    else
      call SpaceHi()
      echo "spacehi on"
    endif
  endfunction

  com! SpaceHi call SpaceHi()
  com! NoSpaceHi call NoSpaceHi()
  com! ToggleSpaceHi call ToggleSpaceHi()

  map! <silent> <F3> ToggleSpaceHi<CR>

endif

" WIP - RadRails colours
hi String guifg=#2a00ff gui=none
hi Number guifg=#0080ff gui=none
hi Comment guifg=#658173 gui=none
hi Special guifg=#2a00ff gui=none
hi Type guifg=#a4357a gui=none
hi Constant guifg=#a4357a gui=none " applies to nil, self etc.
hi rubyDefine guifg=#a4357a gui=bold
hi rubyAccess guifg=#a4357a gui=bold
hi rubyBeginEnd guifg=#a4357a gui=bold
hi rubyControl guifg=#a4357a gui=bold
hi rubyBoolean guifg=#a4357a gui=none
hi rubyFunction guifg=#683821 gui=none
hi rubyIdentifier guifg=#683821 gui=none
hi rubyConditional guifg=#a4357a gui=bold
hi rubyComment guifg=#658173 gui=none
hi rubyString guifg=#2a00ff gui=none
"hi rubyInteger guifg=#0080ff gui=none
"hi rubyFloat guifg=#0080ff gui=none
hi rubyGlobalVariable guifg=#ff0000 gui=none
hi rubyRegExpSpecial guifg=#5a1ea0 gui=none
hi rubySymbol guifg=#ff4040 gui=bold
hi rubyClassVariable guifg=#004080 gui=bold
hi rubyInstanceVariable guifg=#004080 gui=bold
